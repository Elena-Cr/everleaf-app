<!-- Loading State -->
<div class="no-plants" *ngIf="loading">
  <mat-card>
    <mat-card-content>
      <p>Loading plants...</p>
    </mat-card-content>
  </mat-card>
</div>

<!-- Error State -->
<div class="no-plants" *ngIf="error && !loading">
  <mat-card>
    <mat-card-content>
      <p class="error-message">{{ error }}</p>
    </mat-card-content>
  </mat-card>
</div>

<!-- Dashboard Top Section -->
<div class="dashboard-header">
  <h2>Hi, {{ currentUserName }}</h2>
  <button mat-raised-button color="primary" (click)="openAddPlantDialog()">
    âž• Add Plant
  </button>
</div>

<hr class="dashboard-divider" />

<!-- Main Plant Grid -->
<div class="plants-container" *ngIf="plants.length > 0 && !loading && !error">
  <!-- Left Navigation Button -->
  <div class="nav-button-wrapper">
    <button
      mat-icon-button
      class="nav-button prev"
      [disabled]="currentPage === 0"
      (click)="previousPage()"
    >
      <mat-icon>chevron_left</mat-icon>
    </button>
  </div>

  <!-- Plant Cards Grid -->
  <div class="plants-grid">
    <mat-card
      *ngFor="let plant of currentPagePlants"
      class="plant-card"
      [@fadeIn]
    >
      <!-- Image -->
      <div class="plant-image">
        <img src="assets/images/plant_picture.png" alt="Plant image" />
      </div>

      <!-- Card Header (nickname and species) -->
      <mat-card-header>
        <mat-card-title>{{ plant.nickname || "No Nickname" }}</mat-card-title>
        <mat-card-subtitle>{{ plant.name }}</mat-card-subtitle>
      </mat-card-header>

      <!-- Card Content (date) -->
      <mat-card-content>
        <small>Added: {{ plant.dateAdded | date }}</small>
      </mat-card-content>

      <!-- Card Action (button) -->
      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="viewDetails(plant)">
          View Details
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- Right Navigation Button -->
  <div class="nav-button-wrapper">
    <button
      mat-icon-button
      class="nav-button next"
      [disabled]="currentPage === totalPages - 1"
      (click)="nextPage()"
    >
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>
</div>

<!-- No Plants Found -->
<div class="no-plants" *ngIf="plants.length === 0 && !loading && !error">
  <mat-card>
    <mat-card-content>
      <p>No plants found. Add your first plant!</p>
    </mat-card-content>
  </mat-card>
</div>
